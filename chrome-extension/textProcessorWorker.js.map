{"version":3,"file":"textProcessorWorker.js","mappings":"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","sources":["webpack://text-reader-extension/./src/config.ts","webpack://text-reader-extension/./src/utils/celeryClient.ts","webpack://text-reader-extension/./src/utils/logger.ts","webpack://text-reader-extension/webpack/bootstrap","webpack://text-reader-extension/webpack/runtime/define property getters","webpack://text-reader-extension/webpack/runtime/hasOwnProperty shorthand","webpack://text-reader-extension/webpack/runtime/make namespace object","webpack://text-reader-extension/./src/textProcessorWorker.ts"],"sourcesContent":["// Configuration for the Chrome extension\n\ninterface Config {\n    API_ENDPOINT: string;\n    celery: {\n        timeout: number;\n        pollInterval: number;\n        maxRetries: number;\n    };\n    endpoints: {\n        processText: string;\n        taskStatus: string;\n    };\n}\n\nexport const config: Config = {\n    API_ENDPOINT: 'http://localhost:5001', // Default local development server\n    celery: {\n        timeout: 30000, // 30 seconds\n        pollInterval: 1000, // 1 second\n        maxRetries: 3\n    },\n    endpoints: {\n        processText: '/process_text',\n        taskStatus: '/task_status'\n    }\n};\n","// Celery client for handling text processing tasks\nimport { createLogger, Logger } from './logger';\nimport { config } from '../config';\n\ninterface ProcessOptions {\n    language?: string;\n    rate?: number;\n    pitch?: number;\n    volume?: number;\n    emotionalContext?: Record<string, any>;\n    textStructure?: Record<string, any>;\n}\n\ninterface TaskResponse {\n    task_id: string;\n    status?: string;\n}\n\ninterface TaskStatus {\n    taskId: string;\n    status: string;\n    result?: any;\n    error?: string;\n}\n\ninterface HealthCheckResponse {\n    status: string;\n    message?: string;\n}\n\nexport class CeleryClient {\n    private logger: Logger;\n    private baseUrl: string;\n    private taskEndpoint: string;\n    private statusEndpoint: string;\n    private config: {\n        timeout: number;\n        [key: string]: any;\n    };\n\n    constructor(baseUrl: string = config.API_ENDPOINT) {\n        this.logger = createLogger('CeleryClient');\n        this.baseUrl = baseUrl;\n        this.taskEndpoint = `${this.baseUrl}${config.endpoints.processText}`;\n        this.statusEndpoint = `${this.baseUrl}${config.endpoints.taskStatus}`;\n        this.config = config.celery;\n        \n        this.logger.info('CeleryClient initialized', {\n            baseUrl: this.baseUrl,\n            taskEndpoint: this.taskEndpoint,\n            statusEndpoint: this.statusEndpoint,\n            timeout: this.config.timeout\n        });\n    }\n\n    public async processText(text: string, options: ProcessOptions = {}): Promise<TaskStatus> {\n        this.logger.debug('Processing text with Celery', { \n            textLength: text.length\n        });\n\n        try {\n            const response = await fetch(this.taskEndpoint, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    text,\n                    language: options.language || 'en',\n                    rate: options.rate || 1.0,\n                    pitch: options.pitch || 1.0,\n                    volume: options.volume || 1.0,\n                    emotionalContext: options.emotionalContext || {},\n                    textStructure: options.textStructure || {}\n                }),\n                signal: AbortSignal.timeout(this.config.timeout)\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json().catch(() => ({}));\n                throw new Error(`HTTP error! status: ${response.status}, message: ${errorData.error || 'Unknown error'}`);\n            }\n\n            const data = await response.json() as TaskResponse;\n            this.logger.success('Text processed successfully', data);\n            return {\n                taskId: data.task_id,\n                status: 'PENDING'\n            };\n        } catch (error) {\n            this.logger.error('Error processing text:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n\n    public async checkTaskStatus(taskId: string): Promise<TaskStatus> {\n        try {\n            const response = await fetch(`${this.statusEndpoint}/${taskId}`);\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const data = await response.json();\n            return {\n                taskId,\n                status: data.status,\n                result: data.result,\n                error: data.error\n            };\n        } catch (error) {\n            this.logger.error('Error checking task status:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n\n    public async pollTaskStatus(taskId: string, interval: number = 1000): Promise<any> {\n        return new Promise((resolve, reject) => {\n            const poll = async () => {\n                try {\n                    const status = await this.checkTaskStatus(taskId);\n                    if (status.status === 'SUCCESS') {\n                        resolve(status.result);\n                    } else if (status.status === 'FAILURE') {\n                        reject(new Error(status.error || 'Task failed'));\n                    } else {\n                        setTimeout(poll, interval);\n                    }\n                } catch (error) {\n                    reject(error);\n                }\n            };\n            poll();\n        });\n    }\n\n    public async checkHealth(): Promise<HealthCheckResponse> {\n        try {\n            const response = await fetch(`${this.baseUrl}/health`, {\n                signal: AbortSignal.timeout(5000) // Short timeout for health checks\n            });\n            return await response.json() as HealthCheckResponse;\n        } catch (error) {\n            this.logger.error('Health check failed:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n\n    public async cancelTask(taskId: string): Promise<void> {\n        try {\n            const response = await fetch(`${this.statusEndpoint}/${taskId}/cancel`, {\n                method: 'POST'\n            });\n            if (!response.ok) {\n                throw new Error(`Failed to cancel task: ${taskId}`);\n            }\n        } catch (error) {\n            this.logger.error('Error canceling task:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n}\n\n// Export singleton instance\nexport const celeryClient = new CeleryClient();\n","// Simple logger utility for Chrome extension\n\ntype LogLevel = 'DEBUG' | 'INFO' | 'WARN' | 'ERROR' | 'SUCCESS';\n\ninterface LogMessage {\n    timestamp: string;\n    level: LogLevel;\n    context: string;\n    message: string;\n    data?: Record<string, any>;\n}\n\nexport interface Logger {\n    debug(message: string, data?: Record<string, any>): void;\n    info(message: string, data?: Record<string, any>): void;\n    warn(message: string, data?: Record<string, any>): void;\n    error(message: string | Error, data?: Record<string, any>): void;\n    success(message: string, data?: Record<string, any>): void;\n    createSubLogger(subContext: string): Logger;\n}\n\nclass LoggerImpl implements Logger {\n    private context: string;\n\n    constructor(context: string) {\n        this.context = context;\n    }\n\n    private _formatMessage(level: LogLevel, message: string, data: Record<string, any> = {}): LogMessage {\n        const timestamp = new Date().toISOString();\n        return {\n            timestamp,\n            level,\n            context: this.context,\n            message,\n            data\n        };\n    }\n\n    public debug(message: string, data?: Record<string, any>): void {\n        console.debug(this._formatMessage('DEBUG', message, data));\n    }\n\n    public info(message: string, data?: Record<string, any>): void {\n        console.info(this._formatMessage('INFO', message, data));\n    }\n\n    public warn(message: string, data?: Record<string, any>): void {\n        console.warn(this._formatMessage('WARN', message, data));\n    }\n\n    public error(message: string | Error, data?: Record<string, any>): void {\n        const errorMessage = message instanceof Error ? message.message : message;\n        const errorData = message instanceof Error \n            ? { ...data, stack: message.stack }\n            : data;\n        console.error(this._formatMessage('ERROR', errorMessage, errorData));\n    }\n\n    public success(message: string, data?: Record<string, any>): void {\n        console.info(this._formatMessage('SUCCESS', message, data));\n    }\n\n    public createSubLogger(subContext: string): Logger {\n        return new LoggerImpl(`${this.context}:${subContext}`);\n    }\n}\n\nexport function createLogger(context: string): Logger {\n    return new LoggerImpl(context);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Text processor worker for handling speech synthesis\nimport { createLogger, Logger } from './utils/logger';\nimport { celeryClient } from './utils/celeryClient';\n\ninterface ProcessOptions {\n    rate?: number;\n    pitch?: number;\n    volume?: number;\n    language?: string;\n    emotionalContext?: Record<string, any>;\n    textStructure?: Record<string, any>;\n}\n\ninterface TaskResult {\n    taskId: string;\n    status: string;\n    result?: any;\n    error?: string;\n}\n\nclass TextProcessorWorker {\n    private static instance: TextProcessorWorker;\n    private logger: Logger;\n    private currentOptions: ProcessOptions;\n\n    private constructor() {\n        this.logger = createLogger('TextProcessor');\n        this.currentOptions = {\n            rate: 1.0,\n            pitch: 1.0,\n            volume: 1.0\n        };\n    }\n\n    public static getInstance(): TextProcessorWorker {\n        if (!TextProcessorWorker.instance) {\n            TextProcessorWorker.instance = new TextProcessorWorker();\n        }\n        return TextProcessorWorker.instance;\n    }\n\n    public async processText(text: string, options: ProcessOptions = {}): Promise<TaskResult> {\n        try {\n            // Merge options with defaults\n            const processOptions = {\n                ...this.currentOptions,\n                ...options\n            };\n\n            // Log the processing request\n            this.logger.debug('Processing text', {\n                textLength: text.length,\n                options: processOptions\n            });\n\n            // Submit the task to Celery\n            const { taskId } = await celeryClient.processText(text, processOptions);\n            return {\n                taskId,\n                status: 'PENDING'\n            };\n        } catch (error) {\n            this.logger.error('Error processing text:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n\n    public async pollTaskStatus(taskId: string): Promise<any> {\n        try {\n            return await celeryClient.pollTaskStatus(taskId);\n        } catch (error) {\n            this.logger.error('Error polling task status:', { error: error instanceof Error ? error.message : 'Unknown error' });\n            throw error;\n        }\n    }\n\n    public updateOptions(options: Partial<ProcessOptions>): void {\n        this.currentOptions = {\n            ...this.currentOptions,\n            ...options\n        };\n        this.logger.debug('Updated processing options:', this.currentOptions);\n    }\n\n    public resetOptions(): void {\n        this.currentOptions = {\n            rate: 1.0,\n            pitch: 1.0,\n            volume: 1.0\n        };\n        this.logger.debug('Reset processing options to defaults');\n    }\n}\n\n// Export singleton instance\nexport const textProcessorWorker = TextProcessorWorker.getInstance();\n"],"names":[],"sourceRoot":""}